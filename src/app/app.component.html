  <div class="center" media="(min-width: 600px)">
    <kendo-grid [data]="gridView" [resizable]="true" [reorderable]="true" [style.height.%]="100"
      [sortable]="{mode: 'multiple'}" [sort]="state.sort" [pageSize]="state.take" [skip]="state.skip" [pageable]="true"
      [groupable]="groupable" filterable="menu" [filter]="state.filter" enabled="groupable" [group]="state.group"
      (dataStateChange)="dataStateChange($event)" (edit)="editHandler($event)" (cancel)="cancelHandler($event)"
      (save)="saveHandler($event)" (remove)="removeHandler($event)" (add)="addHandler($event)"
      [selectable]="selectableSettings">
      <!-- (cellClick)="cellClickHandler($event)"
      (cellClose)="cellCloseHandler($event)" -->
      <kendo-grid-messages [groupPanelEmpty]="'Arrastra las columnas para agrupar aquí'" [filter]="'Filtro'"
        [filterAfterOperator]="'Es superior a'" [sortAscending]="'Ordenación ascendente'"
        [sortDescending]="'Ordenación descendente'" [filterAfterOrEqualOperator]="'Es superior a'"
        [filterAndLogic]="'Y'" [filterBeforeOperator]="'Es anterior a'"
        [filterBeforeOrEqualOperator]="'Es anterior o igual a'" [filterBooleanAll]="'Todo'"
        [filterClearButton]="'Limpiar'" [filterContainsOperator]="'Contiene'" [filterEndsWithOperator]="'Finaliza con'"
        [filterEqOperator]="'Es igual que'" [filterFilterButton]="'Filtrar'" [filterGtOperator]="'Es más grande que'"
        [filterGteOperator]="'Es más grande o igual que'" [filterIsEmptyOperator]="'Es vacío'"
        [filterIsFalse]="'Es falso'" [filterIsNotEmptyOperator]="'No está vacío'"
        [filterIsNotNullOperator]="'No es nulo'" [filterIsNullOperator]="'Es nulo'" [filterIsTrue]="'Es verdadero'"
        [filterLtOperator]="'Es menor que'" [filterLteOperator]="'Es menor o igual que'"
        [filterNotContainsOperator]="'No contiene'" [filterNotEqOperator]="'No es igual a'" [filterOrLogic]="'O'"
        [filterStartsWithOperator]="'Empieza con'" [pagerFirstPage]="'Ir a la primera página'"
        [pagerItems]="'registros'" [pagerItemsPerPage]="'registros por página'" [pagerOf]="'de'" [columns]="'Columnas'"
        [columnsApply]="'Aplicar'" [columnsReset]="'Reiniciar'">
      </kendo-grid-messages>


      <ng-template kendoGridToolbarTemplate>
        <div>
          <button matTooltip="Nuevo puesto" class="btnAdd" #newPuesto (click)="togglePopup(newPuesto, newPuestoTemp)">
            <fa-icon [icon]="icAddPuesto"></fa-icon>
          </button>

          <ng-template #newPuestoTemp>
            <div class="containerAddBtns">
              <button kendoGridAddCommand look="flat">
                <fa-icon class="icBtn" [icon]="icList"></fa-icon>
                Nuevo desde lista
              </button>

              <button kendoGridAddCommand look="flat">
                <fa-icon class="icBtn" [icon]="icPlus"></fa-icon>
                Nuevo desde Ficha
              </button>
            </div>
          </ng-template>
        </div>

        <kendo-grid-spacer></kendo-grid-spacer>


        <div class="gridHeader">
          <kendo-textbox class="search-box" placeholder="Buscar puesto ..." kendoTextBox
            (input)="onFilter($event.target.value)" *ngIf="buscador == true" [clearButton]="true">
          </kendo-textbox>

          <button matTooltip="Buscar puesto" (click)="buscador = !buscador">
            <fa-icon [icon]="icSearch"></fa-icon>
          </button>

          <button matTooltip="Agrupar columnas" (click)="isGroupable()" look="flat">
            <fa-icon [icon]="icDesagrupCol" *ngIf="groupable"></fa-icon>
            <fa-icon [icon]="icAgruparCol" *ngIf="!groupable"></fa-icon>
          </button>

          <button matTooltip=" Exportar a excel" kendoGridExcelCommand look="flat">
            <fa-icon [icon]="icFileExp"></fa-icon>
          </button>
          <kendo-grid-excel fileName="Puestos.xlsx"></kendo-grid-excel>

          <div matTooltip="Ocultar columnas">
            <kendo-grid-column-chooser></kendo-grid-column-chooser>
          </div>
        </div>

      </ng-template>

      <kendo-grid-column media="(max-width: 600px)" title="Puestos">
        <ng-template kendoGridCellTemplate let-dataItem>
          <table>
            <tr>
              <td>{{ dataItem.puestoId }}</td>
              <td colspan="3"> {{ dataItem.nombre }} </td>
            </tr>
            <tr>
              <td colspan="4">
                <!-- Aqui en lugar de .grupo1Id (Solo el primero) ha de ir ".tipoVinculo.nombre"-->
                {{ dataItem.grupo1Id }}

                {{ dataItem.grupo1Id }}

                {{ dataItem.grupo2Id }}
              </td>
            </tr>
            <tr>
              <td colspan="4" id="tdAdscrip">
                <!-- Aqui en lugar de .nombre ha de ir ".adscripcion.nombre"-->
                {{ dataItem.nombre }}
              </td>
            </tr>
          </table>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-command-column [width]="50" media="(min-width: 600px)" [reorderable]="false">
        <ng-template kendoGridCellTemplate let-isNew="isNew">

          <button kendoGridEditCommand look="flat" matTooltip="Editar puesto">
            <fa-icon [icon]="icEdit"></fa-icon>
          </button>

          <button kendoGridRemoveCommand look="flat" matTooltip="Eliminar puesto">
            <fa-icon [icon]="icRemove"></fa-icon>
          </button>

          <button kendoGridSaveCommand look="flat">
            <fa-icon [icon]="icCheck" matTooltip="Guardar"></fa-icon>
          </button>

          <button kendoGridCancelCommand look="flat">
            <fa-icon [icon]="icCancelar" matTooltip="Cancelar"></fa-icon>
          </button>

        </ng-template>
      </kendo-grid-command-column>

      <kendo-grid-column field="id" title="ID" width="110" media="(min-width: 600px)" [minResizableWidth]="90">
      </kendo-grid-column>

      <kendo-grid-column field="puesto.puestoId" width="100" title="Código" filter='numeric' media="(min-width: 600px)"
        editor="numeric">

      </kendo-grid-column>

      <kendo-grid-column field="puestoIdOficial" title="Código oficial" width="100" filter='numeric'
        media="(min-width: 600px)" editor="numeric">
      </kendo-grid-column>

      <kendo-grid-column field="puestoTipo.nombreCompleto" width="100" title="Puesto tipo" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="nombre" title="Denominación" width="100" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="tipoVinculo.nombre" title="TP" width="100" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="catalogo.nombre" title="Catálogo" width="100" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="adscripcion.nombre" title="Adscripción administración" width="100"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="grupo1Id" title="G1" media="(min-width: 600px)">
      </kendo-grid-column>
      <kendo-grid-column field="grupo2Id" title="G2" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="escala.nombre" title="Escala" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="cuerpo.nombre" title="Cuerpo" width="80" media="(min-width: 600px)">
      </kendo-grid-column>
      <kendo-grid-column field="formaProvision.nombre" title="Forma provisión" width="80" media="(min-width: 600px)">
      </kendo-grid-column>
      <kendo-grid-column field="grupo1Importe" title="Grupo (€)" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="complementoDestinoId" title="ND" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="complementoDestinoImporte" title="ND (€)" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="complementoEspecificoId" title="CE" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="complementoEspecificoImporte" title="CE (€)" width="80" filter='numeric'
        editor="numeric" media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="dotaciones" title="Dot" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>
      <kendo-grid-column field="ocupantes" title="Ocupantes" width="80" filter='numeric' editor="numeric"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="vacantes" title="Vacantes" filter='numeric' editor="numeric" width="80"
        media="(min-width: 600px)">
      </kendo-grid-column>

      <kendo-grid-column field="dotado" title="Dotado" width="80" filter="boolean" media="(min-width: 600px)"
        editor="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.dotado" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="singularizado" title="PS" width="80" filter="boolean" media="(min-width: 600px)"
        editor="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.singularizado" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="reservadoNacionales" title="RN" width="80" filter="boolean" media="(min-width: 600px)"
        editor="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.reservadoNacionales" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="disponibilidadPlena" title="PD" width="80" filter="boolean" media="(min-width: 600px)"
        editor="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.disponibilidadPlena" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="personaDeConfianza" title="PC" width="80" filter=" boolean" media="(min-width: 600px)"
        editor="boolean">
        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.personaDeConfianza" disabled />
        </ng-template>
      </kendo-grid-column>

    </kendo-grid>
  </div>
