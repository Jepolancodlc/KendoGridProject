  <div class="center" media="(min-width: 600px)">
    <kendo-grid [data]="gridView" [columnMenu]="{filter: true, sort: true, columnChooser: false }" [reorderable]="true"
      [style.height.%]="100" [sortable]="true" [sort]="state.sort" [pageSize]="state.take" [skip]="state.skip"
      [pageable]="true" [groupable]="groupable" filterable="false" [filter]="state.filter" enabled="groupable"
      [group]="state.group" [selectable]="selectableSettings" (dataStateChange)="dataStateChange($event)"
      (edit)="editHandler($event)" (cancel)="cancelHandler($event)" (save)="saveHandler($event)"
      (remove)="removeHandler($event)" (add)="addHandler($event)" [rowClass]="rowCallback">

      <kendo-grid-messages [groupPanelEmpty]="'Arrastra las columnas para agrupar aquí'" [filter]="'Filtro'"
        [filterAfterOperator]="'Es superior a'" [sortAscending]="'Ordenación ascendente'"
        [sortDescending]="'Ordenación descendente'" [filterAfterOrEqualOperator]="'Es superior a'"
        [filterAndLogic]="'Y'" [filterBeforeOperator]="'Es anterior a'"
        [filterBeforeOrEqualOperator]="'Es anterior o igual a'" [filterBooleanAll]="'Todo'"
        [filterClearButton]="'Limpiar'" [filterContainsOperator]="'Contiene'" [filterEndsWithOperator]="'Finaliza con'"
        [filterEqOperator]="'Es igual que'" [filterFilterButton]="'Filtrar'" [filterGtOperator]="'Es más grande que'"
        [filterGteOperator]="'Es más grande o igual que'" [filterIsEmptyOperator]="'Es vacío'"
        [filterIsFalse]="'Es falso'" [filterIsNotEmptyOperator]="'No está vacío'"
        [filterIsNotNullOperator]="'No es nulo'" [filterIsNullOperator]="'Es nulo'" [filterIsTrue]="'Es verdadero'"
        [filterLtOperator]="'Es menor que'" [filterLteOperator]="'Es menor o igual que'"
        [filterNotContainsOperator]="'No contiene'" [filterNotEqOperator]="'No es igual a'" [filterOrLogic]="'O'"
        [filterStartsWithOperator]="'Empieza con'" [pagerFirstPage]="'Ir a la primera página'"
        [pagerItems]="'registros'" [pagerItemsPerPage]="'registros por página'" [pagerOf]="'de'" [columns]="'Columnas'"
        [columnsApply]="'Aplicar'" [columnsReset]="'Reiniciar'">
      </kendo-grid-messages>


      <ng-template kendoGridToolbarTemplate>
        <div>
          <button matTooltip="Nuevo puesto" class="btnAdd" #newPuesto (click)="togglePopup(newPuesto, newPuestoTemp)">
            <fa-icon [icon]="icAddPuesto"></fa-icon>
          </button>

          <ng-template #newPuestoTemp>
            <div class="containerAddBtns">
              <button kendoGridAddCommand look="flat">
                <fa-icon class="icBtn" [icon]="icList"></fa-icon>
                Nuevo desde lista
              </button>

              <button kendoGridAddCommand look="flat">
                <fa-icon class="icBtn" [icon]="icPlus"></fa-icon>
                Nuevo desde Ficha
              </button>
            </div>
          </ng-template>
        </div>

        <kendo-grid-spacer></kendo-grid-spacer>


        <div class="gridHeader">
          <kendo-textbox class="search-box" placeholder="Buscar puesto ..." kendoTextBox
            (input)="onFilter($event.target.value)" *ngIf="buscador == true" [clearButton]="true">
          </kendo-textbox>

          <button matTooltip="Buscar puesto" (click)="buscador = !buscador">
            <fa-icon [icon]="icSearch"></fa-icon>
          </button>

          <button matTooltip="Agrupar columnas" (click)="isGroupable()" look="flat">
            <fa-icon [icon]="icDesagrupCol" *ngIf="groupable"></fa-icon>
            <fa-icon [icon]="icAgruparCol" *ngIf="!groupable"></fa-icon>
          </button>

          <button matTooltip=" Exportar a excel" kendoGridExcelCommand look="flat">
            <fa-icon [icon]="icFileExp"></fa-icon>
          </button>
          <kendo-grid-excel fileName="Puestos.xlsx"></kendo-grid-excel>

          <div matTooltip="Ocultar columnas">
            <kendo-grid-column-chooser></kendo-grid-column-chooser>
          </div>
        </div>

      </ng-template>

      <!-- Inicio Columna responsive  -->
      <kendo-grid-column media="(max-width: 600px)" title="Puestos" width="150">
        <ng-template kendoGridCellTemplate let-dataItem>
          <table>
            <tr>
              <td>{{ dataItem.puestoId }}</td>
              <td colspan="3"> {{ dataItem.nombre }} </td>
            </tr>
            <tr>
              <td colspan="4">
                {{ dataItem.tipoVinculo?.nombre }} ||

                {{ dataItem.grupo1Id }} ||

                {{ dataItem.grupo2Id }}
              </td>
            </tr>
            <tr>
              <td colspan="4" id="tdAdscrip">
                {{ dataItem.adscripcion?.nombre }}
              </td>
            </tr>
          </table>
        </ng-template>
      </kendo-grid-column>
      <!-- Final Columna responsive  -->

      <kendo-grid-command-column width="100" media="(min-width: 600px)" [reorderable]="false" [locked]="true">
        <ng-template kendoGridCellTemplate let-isNew="isNew">

          <button kendoGridEditCommand look="flat" matTooltip="Editar puesto">
            <fa-icon [icon]="icEdit"></fa-icon>
          </button>

          <button kendoGridRemoveCommand look="flat" matTooltip="Eliminar puesto">
            <fa-icon [icon]="icRemove"></fa-icon>
          </button>

          <button kendoGridSaveCommand look="flat">
            <fa-icon [icon]="icCheck" matTooltip="Guardar"></fa-icon>
          </button>

          <button kendoGridCancelCommand look="flat">
            <fa-icon [icon]="icCancelar" matTooltip="Cancelar"></fa-icon>
          </button>

        </ng-template>
      </kendo-grid-command-column>

      <kendo-grid-column field="id" title="ID" media="(min-width: 600px)" [minResizableWidth]="90" width="150"
        hidden="true" [includeInChooser]="false">
      </kendo-grid-column>

      <kendo-grid-column field="puesto.puestoId" title="Código" filter='numeric' media="(min-width: 600px)" width="110"
        editor="numeric">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Código"> Código </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="puestoIdOficial" title="Código oficial" filter='numeric' media="(min-width: 600px)"
        width="110" editor="numeric">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Código oficial"> Código oficial </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="puestoTipo.nombre" title="Puesto tipo" media="(min-width: 600px)" width="70">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Puesto tipo">
            <fa-icon [icon]="icTag"></fa-icon>
          </div>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>

        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="nombre" title="Denominación" media="(min-width: 600px)" width="300" height="90">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Denominación"> Denominación </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="tipoVinculo.tipoVinculoId" title="TP" media="(min-width: 600px)" width="80"
        [class]="{ codeColumn: true }">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Tipo de personal"> TP </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="catalogo.nombre" title="Catálogo" media="(min-width: 600px)" width="150" width="150">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Catálogo"> Catálogo </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="adscripcion.nombre" title="Adscripción administración" media="(min-width: 600px)"
        width="200">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Adscripción a la administración"> Adscripción administración </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="grupo1Id" title="G1" media="(min-width: 600px)" width="88">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Grupo 1"> G1 </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="grupo2Id" title="G2" media="(min-width: 600px)" width="88">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Grupo 2"> G2 </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="escala.nombre" title="Escala" media="(min-width: 600px)" width="200">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Escala"> Escala </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="cuerpo.nombre" title="Cuerpo" media="(min-width: 600px)" width="150">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Cuerpo"> Cuerpo </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="formaProvision.nombre" title="Forma provisión" media="(min-width: 600px)" width="150">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Forma provisión"> Forma provisión </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="grupo1Importe" title="Grupo (€)" filter='numeric' editor="numeric" width="120"
        media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Importe anual del grupo 1"> Grupo (€) </div>
        </ng-template>
      </kendo-grid-column>


      <kendo-grid-column field="complementoDestinoId" title="ND" filter='numeric' editor="numeric" width="88"
        media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Nivel complemento destino"> ND </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="complementoDestinoImporte" title="ND (€)" filter='numeric' editor="numeric" width="110"
        media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Importe anual del complemento destino"> ND (€) </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="complementoEspecificoId" title="CE" filter='numeric' editor="numeric" width="88"
        media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Código del complemento específico "> CE </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="complementoEspecificoImporte" title="CE (€)" filter='numeric' editor="numeric"
        width="110" media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Importe anual del complemento específico"> CE (€) </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="dotaciones" title="Dot" filter='numeric' editor="numeric" media="(min-width: 600px)"
        width="88">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Dotaciones"> Dot </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="ocupantes" title="Ocupantes" filter='numeric' editor="numeric" width="88"
        media="(min-width: 600px)">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Número de ocupantes"> Ocupantes </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="vacantes" title="Vacantes" filter='numeric' editor="numeric" media="(min-width: 600px)"
        width="88">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Número de dotaciones - Número de ocupantes"> Vacantes </div>
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="dotado" title="Dotado" filter="boolean" media="(min-width: 600px)" editor="boolean"
        width="80">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Dotado económicamente"> Dotado </div>
        </ng-template>

        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.dotado" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="singularizado" title="PS" filter="boolean" media="(min-width: 600px)" editor="boolean"
        width="80">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Puesto singularizado"> PS </div>
        </ng-template>

        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.singularizado" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="reservadoNacionales" title="RN" filter="boolean" media="(min-width: 600px)" width="80"
        editor="boolean">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Reservado nacionales"> RN </div>
        </ng-template>

        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.reservadoNacionales" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="disponibilidadPlena" title="PD" filter="boolean" media="(min-width: 600px)" width="80"
        editor="boolean">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Plena disponibilidad"> PD </div>
        </ng-template>

        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.disponibilidadPlena" disabled />
        </ng-template>
      </kendo-grid-column>

      <kendo-grid-column field="personaDeConfianza" title="PC" filter="boolean" media="(min-width: 600px)" width="80"
        editor="boolean">
        <ng-template kendoGridHeaderTemplate let-column>
          <div class="juan" matTooltip="Persona de confianza"> PC </div>
        </ng-template>

        <ng-template kendoGridCellTemplate let-dataItem>
          <input type="checkbox" [checked]="dataItem.personaDeConfianza" disabled />
        </ng-template>
      </kendo-grid-column>

    </kendo-grid>
  </div>
